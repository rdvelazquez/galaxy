{"version":3,"sources":["reports/run_stats.js"],"names":["create_chart","create_histogram","d3","date_by_subtracting_days","date","days","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","date_by_subtracting_hours","hours","get_utc_time_hours","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","inp_data","name","time","title","data","hours_array","now","i","push","days_array","margin","top","right","bottom","left","width","barWidth","chart_width","chart_zoom","height","zoom","max","chart_height","click","classes","select","attr","split","selectAll","filter","style","transition","duration","$","css","chart","on","bar","enter","append","d","curr_margin","size","wdth","target","parentElement","text","m_x","m_y","l_x","l_y","y","scale","linear","range","yAxis","svg","axis","orient","tickFormat","round","call","node","left_pad","getBoundingClientRect","top_pad","trans","first","String","curr_day","_y2","curr_day_text","locale","toLocaleString","month","text_height","this_width","getBBox","curr_month","curr_month_text","x","domain","layout","histogram","bins","ticks","lengths","length","formatMinutes","Math","floor","minutes","bar_x","undefined","dx","xAxis"],"mappings":"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","file":"../../scripts/reports/run_stats.js","sourcesContent":["import * as d3 from \"../libs/d3\";\nimport { event as currentEvent } from \"../libs/d3\";\n\nfunction date_by_subtracting_days(date, days) {\n    return new Date(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate() - days,\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    );\n}\n\nfunction date_by_subtracting_hours(date, hours) {\n    return new Date(\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours() - hours,\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds()\n    );\n}\n\n// Gets the utc time without minutes and seconds\nfunction get_utc_time_hours() {\n    var date = new Date();\n    return new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), 0, 0);\n}\n\n// This is commented out until we make Reports more responsive.\n// setTimeout(refresh, 60000); //1 minute = 60000 ms\n\nexport function create_chart(inp_data, name, time, title) {\n    // Initialize starting variables\n    var data = inp_data;\n\n    var hours_array = [];\n    var now = get_utc_time_hours();\n    var i;\n    for (i = 0; i < 24; i++) {\n        hours_array.push(date_by_subtracting_hours(now, i));\n    }\n\n    var days_array = [];\n    for (i = 0; i < 30; i++) {\n        days_array.push(date_by_subtracting_days(now, i));\n    }\n\n    var margin = { top: 60, right: 30, bottom: 50, left: 60 };\n    var width = 300;\n    var barWidth = 0;\n    if (time == \"hours\") {\n        barWidth = width / 24;\n    } else if (time == \"days\") {\n        barWidth = width / 30;\n    }\n    var chart_width = width + margin.left + margin.right;\n\n    var chart_zoom = 1.75;\n    var height = 150;\n    var zoom;\n    if (d3.max(data) !== 0) {\n        zoom = height / d3.max(data);\n    } else {\n        zoom = 1.0;\n    }\n    var chart_height = height + margin.top + margin.bottom;\n\n    // Function for zooming in and out of charts\n    function click() {\n        var classes = d3.select(this).attr(\"class\");\n        classes = classes.split(\" \");\n        d3\n            .selectAll(`.${classes[0]}`)\n            .filter(`.${classes[1]}`)\n            .style(\"cursor\", \"zoom-in\")\n            .transition()\n            .duration(750)\n            .attr(\"height\", chart_height)\n            .attr(\"width\", chart_width);\n\n        d3\n            .select(this)\n            .style(\"cursor\", \"default\")\n            .transition()\n            .duration(750)\n            .attr(\"height\", chart_height * chart_zoom)\n            .attr(\"width\", chart_width * chart_zoom);\n    }\n\n    // Initialize all chart containers to have the correct height\n    $(\".charts\").css(\"height\", chart_height * chart_zoom);\n\n    // Create the chart object\n    var chart = d3\n        .select(`#${name}`)\n        .attr(\"width\", chart_width)\n        .attr(\"height\", chart_height)\n        .attr(\"preserveAspectRatio\", \"xMidYMin\")\n        .attr(\"viewBox\", `0 0 ${chart_width} ${chart_height}`)\n        .on(\"click\", click);\n\n    // Create bars on the chart and assosciate data with it\n    var bar = chart\n        .selectAll(\"g\")\n        .data(data)\n        .enter()\n        .append(\"g\")\n        .attr(\"transform\", (d, i) => {\n            // Place the bar in the correct place\n            var curr_margin = margin.left;\n            curr_margin += +(i * barWidth);\n            return `translate(${curr_margin},${margin.top})`;\n        })\n        .on(\"mouseenter\", d => {\n            // Show tool tip\n            var i = 1;\n            var size = d;\n\n            while (size >= 10) {\n                size = size / 10;\n                i++;\n            }\n\n            var wdth = i * 4 + 10;\n            d3\n                .select(currentEvent.target.parentElement)\n                .select(\".tool_tip\")\n                .select(\"text\")\n                .attr(\"transform\", `translate( ${margin.left - 5}, ${height - d * zoom + margin.top + 10} )`)\n                .attr(\"visibility\", \"visible\")\n                .text(d);\n\n            d3\n                .select(currentEvent.target.parentElement)\n                .select(\".tool_tip\")\n                .attr(\"width\", `${wdth}px`)\n                .attr(\"height\", \"15px\")\n                .select(\"rect\")\n                .attr(\"transform\", `translate( ${margin.left - wdth}, ${height - d * zoom + margin.top} )`)\n                .attr(\"width\", `${wdth}px`)\n                .attr(\"height\", \"15px\")\n                .attr(\"fill\", \"#ebd9b2\");\n        })\n        .on(\"mouseleave\", d => {\n            // Remove tool tip\n            d3\n                .select(currentEvent.target.parentElement)\n                .select(\".tool_tip\")\n                .select(\"text\")\n                .attr(\"visibility\", \"hidden\");\n\n            d3\n                .select(currentEvent.target.parentElement)\n                .select(\".tool_tip\")\n                .select(\"rect\")\n                .attr(\"width\", \"0\")\n                .attr(\"height\", \"0\")\n                .attr(\"fill\", \"\")\n                .text(d);\n        });\n\n    // Add a title to the chart\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"title\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"transform\", () => `translate( ${width},15 )`)\n        .text(title);\n\n    // Add an x axis line to the chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"axis\")\n        .append(\"path\")\n        .attr(\"class\", \"x\")\n        .attr(\"d\", () => {\n            var m_x = margin.left;\n            var m_y = margin.top + height;\n            var l_x = m_x + width;\n            var l_y = m_y;\n\n            return `M${m_x} ${m_y} L ${l_x} ${l_y}`;\n        });\n\n    // Declare how high the y axis goes\n    var y = d3.scale.linear().range([height, 0]);\n\n    // Create a yAxis object\n    var yAxis = d3.svg\n        .axis()\n        .scale(y)\n        .orient(\"left\")\n        .tickFormat(d => d3.round(d * d3.max(data), 0));\n\n    // Put the y axis on the chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .attr(\"id\", `y_${name}`)\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"transform\", `translate( ${margin.left},${margin.top})`)\n        .call(yAxis)\n        .select(\".domain\");\n\n    // Put a title for y axis on chart\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"ax_title\")\n        .attr(\"transform\", () => {\n            var axis = d3.select(`#y_${name}`).node();\n            var left_pad = margin.left - axis.getBoundingClientRect().width - 5;\n            var top_pad = margin.top + axis.getBoundingClientRect().height / 2 - 30;\n            var trans = `translate(${left_pad},${top_pad})rotate(-90)`;\n\n            return trans;\n        })\n        .text(\"Number of Jobs\");\n\n    // Add color to the chart's bars\n    bar\n        .append(\"rect\")\n        .attr(\"y\", d => height - d * zoom)\n        .attr(\"height\", d => d * zoom)\n        .attr(\"width\", barWidth - 1);\n\n    var first = false;\n\n    // Append x axis\n    if (time == \"hours\") {\n        // Append hour lines\n        bar\n            .append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", 3)\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", () => `translate( ${barWidth / 2}, ${height})`);\n\n        // Append hour numbers\n        bar\n            .append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"transform\", `translate( 10, ${height + 10} )`)\n            .text((d, i) => {\n                var time = \"0000\";\n\n                if (hours_array[i].getHours() < 10) {\n                    time = `0${String(hours_array[i].getHours())}`;\n                } else {\n                    time = hours_array[i].getHours();\n                }\n\n                return time;\n            });\n\n        // Append day lines\n        var curr_day = \"\";\n        first = false;\n        bar\n            .append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", (d, i) => {\n                var _y2 = 0;\n\n                if (hours_array[i].getDate() != curr_day) {\n                    if (!first) {\n                        _y2 = 27;\n                        first = true;\n                    } else {\n                        _y2 = 20;\n                    }\n\n                    curr_day = hours_array[i].getDate();\n                }\n\n                return _y2;\n            })\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", () => `translate( 0, ${height})`);\n\n        // Append day numbers\n        curr_day = \"\";\n        var curr_day_text = \"\";\n        first = false;\n        bar\n            .append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"pointer-events\", \"none\")\n            .text((d, i) => {\n                var time = \"\";\n                var locale = \"en-us\";\n\n                if (hours_array[i].getDate() != curr_day_text) {\n                    time = String(hours_array[i].toLocaleString(locale, { month: \"long\" }));\n                    time += ` ${String(hours_array[i].getDate())}`;\n\n                    curr_day_text = hours_array[i].getDate();\n                }\n\n                return time;\n            })\n            .attr(\"transform\", function(d, i) {\n                var text_height = height;\n                var this_width = d3\n                    .select(this)\n                    .node()\n                    .getBBox().width;\n\n                if (hours_array[i].getDate() != curr_day) {\n                    if (!first) {\n                        text_height += 26;\n                        first = true;\n                    } else {\n                        text_height += 18;\n                    }\n\n                    curr_day = hours_array[i].getDate();\n                }\n\n                return `translate( ${this_width + 2}, ${text_height} )`;\n            });\n    } else if (time == \"days\") {\n        // Append day lines\n        bar\n            .append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", 3)\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", () => `translate( ${barWidth / 2}, ${height})`);\n\n        // Append day numbers\n        bar\n            .append(\"text\")\n            .attr(\"fill\", \"rgb(0,0,0)\")\n            .attr(\"transform\", `translate( 9, ${height + 10} )`)\n            .text((d, i) => {\n                var time = \"0000\";\n\n                if (days_array[i].getDate() < 10) {\n                    time = `0${String(days_array[i].getDate())}`;\n                } else {\n                    time = days_array[i].getDate();\n                }\n\n                return time;\n            });\n\n        // Append month lines\n        var curr_month = \"\";\n        first = false;\n        bar\n            .append(\"line\")\n            .attr(\"x1\", 0)\n            .attr(\"y1\", 0)\n            .attr(\"x2\", 0)\n            .attr(\"y2\", (d, i) => {\n                var _y2 = 0;\n\n                if (days_array[i].getMonth() != curr_month) {\n                    if (!first) {\n                        _y2 = 27;\n                        first = true;\n                    } else {\n                        _y2 = 20;\n                    }\n\n                    curr_month = days_array[i].getMonth();\n                }\n\n                return _y2;\n            })\n            .attr(\"stroke\", \"black\")\n            .attr(\"stroke-width\", 1)\n            .attr(\"pointer-events\", \"none\")\n            .attr(\"transform\", () => `translate( 0, ${height})`);\n\n        // Append month numbers\n        curr_month = \"\";\n        var curr_month_text = \"\";\n        first = false;\n        bar\n            .append(\"text\")\n            .attr(\"fill\", \"rgb(0,100,0)\")\n            .attr(\"pointer-events\", \"none\")\n            .text((d, i) => {\n                var time = \"\";\n                var locale = \"en-us\";\n\n                if (days_array[i].getMonth() != curr_month_text) {\n                    time = String(days_array[i].toLocaleString(locale, { month: \"long\" }));\n                    time += ` ${String(days_array[i].getFullYear())}`;\n\n                    curr_month_text = days_array[i].getMonth();\n                }\n\n                return time;\n            })\n            .attr(\"transform\", function(d, i) {\n                var text_height = height;\n                var this_width = d3\n                    .select(this)\n                    .node()\n                    .getBBox().width;\n\n                if (days_array[i].getMonth() != curr_month) {\n                    if (!first) {\n                        text_height += 26;\n                        first = true;\n                    } else {\n                        text_height += 18;\n                    }\n\n                    curr_month = days_array[i].getMonth();\n                }\n\n                return `translate( ${this_width + 2}, ${text_height} )`;\n            });\n    }\n\n    // Put an invisible tool tip on the chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"tool_tip\")\n        .append(\"rect\");\n    chart.select(\".tool_tip\").append(\"text\");\n\n    // Initialize initial zoomed charts\n    if (name == \"jc_dy_chart\" || name == \"jc_hr_chart\") {\n        d3\n            .select(`#${name}`)\n            .attr(\"height\", chart_height * chart_zoom)\n            .attr(\"width\", chart_width * chart_zoom)\n            .style(\"cursor\", \"default\");\n    }\n}\n\n//============================================================================================================\n\nexport function create_histogram(inp_data, name, title) {\n    // Initialize initial variables\n    // inp_data is an array of numbers that are the amount of minutes per run\n    var data = inp_data;\n\n    var chart_zoom = 1.75;\n    var margin = { top: 60, right: 30, bottom: 50, left: 60 };\n\n    var height = 150;\n    var chart_height = height + margin.top + margin.bottom;\n\n    var width = 300;\n    var chart_width = width + margin.left + margin.right;\n\n    // Cereate x axis metadata\n    // Used for x axis, histogram creation, and bar initialization\n    var x = d3.scale\n        .linear()\n        .domain([0, d3.max(data)])\n        .range([0, width]);\n\n    // Generate a histogram using twenty uniformly-spaced bins.\n    data = d3.layout.histogram().bins(x.ticks(20))(data);\n\n    // Create an array of the sizes of the bars\n    var lengths = [];\n    for (var i = 0; i < data.length; i++) {\n        lengths.push(data[i].length);\n    }\n\n    var zoom;\n    // Find the amount needed to magnify the bars\n    if (d3.max(data) !== 0) {\n        zoom = height / d3.max(lengths);\n    } else {\n        zoom = 1.0;\n    }\n\n    // Create y axis metadata\n    // Used for y axis and bar initialization\n    var y = d3.scale\n        .linear()\n        .domain([0, d3.max(data, d => d.y)])\n        .range([height, 0]);\n\n    // Function for zooming in and out of charts\n    function click() {\n        var classes = d3.select(this).attr(\"class\");\n        classes = classes.split(\" \");\n        d3\n            .selectAll(`.${classes[0]}`)\n            .filter(`.${classes[1]}`)\n            .style(\"cursor\", \"zoom-in\")\n            .transition()\n            .duration(750)\n            .attr(\"height\", chart_height)\n            .attr(\"width\", chart_width);\n\n        d3\n            .select(this)\n            .style(\"cursor\", \"default\")\n            .transition()\n            .duration(750)\n            .attr(\"height\", chart_height * chart_zoom)\n            .attr(\"width\", chart_width * chart_zoom);\n    }\n\n    // Formatter for x axis times (converting minutes to HH:MM).\n    var formatMinutes = d => {\n        var hours = Math.floor(d / 60);\n        var minutes = Math.floor(d - hours * 60);\n\n        if (hours < 10) {\n            hours = `0${hours}`;\n        }\n        if (minutes < 10) {\n            minutes = `0${minutes}`;\n        }\n\n        return `${hours}:${minutes}`;\n    };\n\n    // Create a chart object\n    var chart = d3\n        .select(`#${name}`)\n        .attr(\"viewBox\", `0 0 ${chart_width} ${chart_height}`)\n        .attr(\"width\", chart_width)\n        .attr(\"height\", chart_height)\n        .attr(\"preserveAspectRatio\", \"xMidYMin\")\n        .on(\"click\", click);\n\n    // Put title on chart\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"title\")\n        .attr(\"transform\", () => `translate( ${width},15 )`)\n        .text(title);\n\n    // Put bars on chart\n    var bar = chart\n        .selectAll(\".bar\")\n        .data(data)\n        .enter()\n        .append(\"g\")\n        .attr(\"class\", \"bar\")\n        .attr(\"transform\", d => `translate(${+x(d.x) + margin.left},${+y(d.y) + margin.top})`)\n        .on(\"mouseenter\", d => {\n            // Show tool tip\n            var i = 0;\n\n            var size = d.length;\n\n            while (size >= 1) {\n                size = size / 10;\n                i++;\n            }\n            var wdth = i * 4 + 10;\n            d3\n                .select(currentEvent.target.parentElement)\n                .select(\".tool_tip\")\n                .select(\"text\")\n                .attr(\"transform\", `translate( ${margin.left - 5}, ${height - d.length * zoom + margin.top + 10} )`)\n                .attr(\"visibility\", \"visible\")\n                .text(d.length);\n\n            d3\n                .select(currentEvent.target.parentElement)\n                .select(\".tool_tip\")\n                .attr(\"width\", `${wdth}px`)\n                .attr(\"height\", \"15px\")\n                .select(\"rect\")\n                .attr(\"transform\", `translate( ${margin.left - wdth}, ${height - d.length * zoom + margin.top} )`)\n                .attr(\"width\", `${wdth}px`)\n                .attr(\"height\", \"15px\")\n                .attr(\"fill\", \"#ebd9b2\");\n        })\n        .on(\"mouseleave\", () => {\n            // Remove tool tip\n            d3\n                .select(currentEvent.target.parentElement)\n                .select(\".tool_tip\")\n                .select(\"text\")\n                .attr(\"visibility\", \"hidden\");\n\n            d3\n                .select(currentEvent.target.parentElement)\n                .select(\".tool_tip\")\n                .select(\"rect\")\n                .attr(\"width\", \"0\")\n                .attr(\"height\", \"0\")\n                .attr(\"fill\", \"\");\n        });\n\n    // Create bar width\n    var bar_x;\n    if (data[0] === undefined) {\n        bar_x = 1;\n    } else {\n        bar_x = x(data[0].dx);\n    }\n\n    // Add color to bar\n    bar\n        .append(\"rect\")\n        .attr(\"x\", 1)\n        .attr(\"width\", bar_x - 1)\n        .attr(\"height\", d => height - y(d.y));\n\n    // Create x axis\n    var xAxis = d3.svg\n        .axis()\n        .scale(x)\n        .orient(\"bottom\")\n        .tickFormat(formatMinutes);\n\n    // Add x axis to chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"id\", `x_${name}`)\n        .attr(\"transform\", `translate( ${margin.left},${+height + margin.top})`)\n        .call(xAxis);\n\n    // Add a title to the x axis\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"ax_title\")\n        .attr(\"transform\", () => {\n            var axis = d3.select(`#x_${name}`).node();\n            var left_pad = margin.left + axis.getBoundingClientRect().width / 2 + 30;\n            var top_pad = margin.top + height + axis.getBoundingClientRect().height + 10;\n            var trans = `translate(${left_pad},${top_pad})`;\n\n            return trans;\n        })\n        .text(\"ETA - hrs:mins\");\n\n    // Create y axis\n    var yAxis = d3.svg\n        .axis()\n        .scale(y)\n        .orient(\"left\");\n\n    // Add y axis to chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .attr(\"id\", `y_${name}`)\n        .attr(\"transform\", `translate( ${margin.left},${margin.top})`)\n        .call(yAxis);\n\n    // Add a title to the y axis\n    chart\n        .append(\"g\")\n        .append(\"text\")\n        .attr(\"class\", \"ax_title\")\n        .attr(\"transform\", () => {\n            var axis = d3.select(`#y_${name}`).node();\n            var left_pad = margin.left - axis.getBoundingClientRect().width - 5;\n            var top_pad = margin.top + axis.getBoundingClientRect().height / 2 - 30;\n            var trans = `translate(${left_pad},${top_pad})rotate(-90)`;\n\n            return trans;\n        })\n        .text(\"Number of Jobs\");\n\n    // Put an invisible tool tip on the chart\n    chart\n        .append(\"g\")\n        .attr(\"class\", \"tool_tip\")\n        .append(\"rect\");\n    chart.select(\".tool_tip\").append(\"text\");\n}\n"]}
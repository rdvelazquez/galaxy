{"version":3,"sources":["mvc/tool/tool-genomespace.js"],"names":["openFileBrowser","options","GS_UI_URL","window","Galaxy","config","genomespace_ui_url","GS_UPLOAD_URL","newWin","open","addEventListener","successCallback","e","data","destination","focus","setCallbackOnGSUploadError"],"mappings":";;;;;;sBAGe;AACXA,yBAAiB,yBAASC,OAAT,EAAkB;AAC/B,gBAAIC,YAAYC,OAAOC,MAAP,CAAcC,MAAd,CAAqBC,kBAArC;AACA,gBAAIC,gBAAmBL,SAAnB,sDAAJ;;AAEA,gBAAIM,SAASL,OAAOM,IAAP,CAAYF,aAAZ,EAA2B,0BAA3B,EAAuD,0BAAvD,CAAb;;AAEAJ,mBAAOO,gBAAP,CACI,SADJ,EAEI,aAAK;AACD,oBAAIT,QAAQU,eAAR,IAA2BC,EAAEC,IAAF,CAAOC,WAAtC,EAAmD;AACjDb,4BAAQU,eAAR,CAAwBC,EAAEC,IAA1B;AACD;AACJ,aANL,EAOI,KAPJ;;AAUAL,mBAAOO,KAAP;;AAEA,gBAAId,QAAQ,eAAR,KAA4B,IAAhC,EAAsCO,OAAOQ,0BAAP,GAAoCX,OAAO,eAAP,CAApC;AACzC;AApBU,K","file":"../../../scripts/mvc/tool/tool-genomespace.js","sourcesContent":["// Provides support for interacting with the GenomeSpace File Browser popup dialogue\n\n// tool form templates\nexport default {\n    openFileBrowser: function(options) {\n        var GS_UI_URL = window.Galaxy.config.genomespace_ui_url;\n        var GS_UPLOAD_URL = `${GS_UI_URL}upload/loadUrlToGenomespace.html?getLocation=true`;\n\n        var newWin = window.open(GS_UPLOAD_URL, \"GenomeSpace File Browser\", \"height=360px,width=600px\");\n\n        window.addEventListener(\n            \"message\",\n            e => {\n                if (options.successCallback && e.data.destination) {\n                  options.successCallback(e.data);\n                }\n            },\n            false\n        );\n\n        newWin.focus();\n\n        if (options[\"errorCallback\"] != null) newWin.setCallbackOnGSUploadError = config[\"errorCallback\"];\n    }\n};\n"]}
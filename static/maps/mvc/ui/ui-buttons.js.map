{"version":3,"sources":["mvc/ui/ui-buttons.js"],"names":["ButtonDefault","Backbone","View","extend","initialize","options","model","Model","id","uid","title","icon","cls","wait","wait_text","wait_cls","disabled","percentage","set","setElement","$","attr","append","$icon","$title","$progress","$progress_bar","listenTo","render","self","attributes","$el","removeClass","addClass","off","on","hide","onclick","tooltip","placement","css","width","prop","html","show","disable","enable","unwait","setIcon","ButtonLink","href","target","ButtonCheck","icons","value","onchange","get","new_val","total","undefined","ButtonIcon","$button","ButtonMenu","$menu","pull","onunload","visible","tag","collection","Collection","$root","display","where","length","e","preventDefault","remove","each","suboptions","submodel","$link","divider","addMenu","add","merge"],"mappings":"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","file":"../../../scripts/mvc/ui/ui-buttons.js","sourcesContent":["/** This module contains all button views. */\nimport Utils from \"utils/utils\";\n/** This renders the default button which is used e.g. at the bottom of the upload modal. */\nvar ButtonDefault = Backbone.View.extend({\n    initialize: function(options) {\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                id: Utils.uid(),\n                title: \"\",\n                icon: \"\",\n                cls: \"btn btn-default\",\n                wait: false,\n                wait_text: \"Sending...\",\n                wait_cls: \"btn btn-info\",\n                disabled: false,\n                percentage: -1\n            }).set(options);\n        this.setElement(\n            $(\"<button/>\")\n                .attr(\"type\", \"button\")\n                .append((this.$icon = $(\"<i/>\")))\n                .append((this.$title = $(\"<span/>\")))\n                .append((this.$progress = $(\"<div/>\").append((this.$progress_bar = $(\"<div/>\")))))\n        );\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.render();\n    },\n\n    render: function() {\n        var self = this;\n        var options = this.model.attributes;\n        this.$el\n            .removeClass()\n            .addClass(\"ui-button-default\")\n            .addClass(options.disabled && \"disabled\")\n            .attr(\"id\", options.id)\n            .attr(\"disabled\", options.disabled)\n            .off(\"click\")\n            .on(\"click\", () => {\n                $(\".tooltip\").hide();\n                options.onclick && !self.disabled && options.onclick();\n            })\n            .tooltip({ title: options.tooltip, placement: \"bottom\" });\n        this.$progress.addClass(\"progress\").css(\"display\", options.percentage !== -1 ? \"block\" : \"none\");\n        this.$progress_bar.addClass(\"progress-bar\").css({ width: `${options.percentage}%` });\n        this.$icon.removeClass().addClass(\"icon fa\");\n        this.$title.removeClass().addClass(\"title\");\n        if (options.wait) {\n            this.$el.addClass(options.wait_cls).prop(\"disabled\", true);\n            this.$icon.addClass(\"fa-spinner fa-spin ui-margin-right\");\n            this.$title.html(options.wait_text);\n        } else {\n            this.$el.addClass(options.cls);\n            this.$icon.addClass(options.icon);\n            this.$title.html(options.title);\n            options.icon && options.title && this.$icon.addClass(\"ui-margin-right\");\n        }\n    },\n\n    /** Show button */\n    show: function() {\n        this.$el.show();\n    },\n\n    /** Hide button */\n    hide: function() {\n        this.$el.hide();\n    },\n\n    /** Disable button */\n    disable: function() {\n        this.model.set(\"disabled\", true);\n    },\n\n    /** Enable button */\n    enable: function() {\n        this.model.set(\"disabled\", false);\n    },\n\n    /** Show spinner to indicate that the button is not ready to be clicked */\n    wait: function() {\n        this.model.set(\"wait\", true);\n    },\n\n    /** Hide spinner to indicate that the button is ready to be clicked */\n    unwait: function() {\n        this.model.set(\"wait\", false);\n    },\n\n    /** Change icon */\n    setIcon: function(icon) {\n        this.model.set(\"icon\", icon);\n    }\n});\n\n/** This button allows the right-click/open-in-new-tab feature, its used e.g. for panel buttons. */\nvar ButtonLink = ButtonDefault.extend({\n    initialize: function(options) {\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                id: Utils.uid(),\n                title: \"\",\n                icon: \"\",\n                cls: \"\"\n            }).set(options);\n        this.setElement($(\"<a/>\").append((this.$icon = $(\"<span/>\"))));\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.render();\n    },\n\n    render: function() {\n        var options = this.model.attributes;\n        this.$el\n            .removeClass()\n            .addClass(options.cls)\n            .attr({\n                id: options.id,\n                href: options.href || \"javascript:void(0)\",\n                title: options.title,\n                target: options.target || \"_top\",\n                disabled: options.disabled\n            })\n            .tooltip({ placement: \"bottom\" })\n            .off(\"click\")\n            .on(\"click\", () => {\n                options.onclick && !options.disabled && options.onclick();\n            });\n        this.$icon.removeClass().addClass(options.icon);\n    }\n});\n\n/** The check button is used in the tool form and allows to distinguish between multiple states e.g. all, partially and nothing selected. */\nvar ButtonCheck = Backbone.View.extend({\n    initialize: function(options) {\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                id: Utils.uid(),\n                title: \"Select/Unselect all\",\n                icons: [\"fa-square-o\", \"fa-minus-square-o\", \"fa-check-square-o\"],\n                value: 0,\n                onchange: function() {}\n            }).set(options);\n        this.setElement(\n            $(\"<div/>\")\n                .append((this.$icon = $(\"<span/>\")))\n                .append((this.$title = $(\"<span/>\")))\n        );\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.render();\n    },\n\n    render: function(options) {\n        var self = this;\n        var options = this.model.attributes;\n        this.$el\n            .addClass(\"ui-button-check\")\n            .off(\"click\")\n            .on(\"click\", () => {\n                self.model.set(\"value\", (self.model.get(\"value\") === 0 && 2) || 0);\n                options.onclick && options.onclick();\n            });\n        this.$title.html(options.title);\n        this.$icon\n            .removeClass()\n            .addClass(\"icon fa ui-margin-right\")\n            .addClass(options.icons[options.value]);\n    },\n\n    /* Sets a new value and/or returns the value.\n        * @param{Integer}   new_val - Set a new value 0=unchecked, 1=partial and 2=checked.\n        * OR:\n        * @param{Integer}   new_val - Number of selected options.\n        * @param{Integer}   total   - Total number of available options.\n        */\n    value: function(new_val, total) {\n        if (new_val !== undefined) {\n            if (total && new_val !== 0) {\n                new_val = (new_val !== total && 1) || 2;\n            }\n            this.model.set(\"value\", new_val);\n            this.model.get(\"onchange\")(this.model.get(\"value\"));\n        }\n        return this.model.get(\"value\");\n    }\n});\n\n/** This renders a differently styled, more compact button version. */\nvar ButtonIcon = ButtonDefault.extend({\n    initialize: function(options) {\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                id: Utils.uid(),\n                title: \"\",\n                icon: \"\",\n                cls: \"ui-button-icon\",\n                disabled: false\n            }).set(options);\n        this.setElement(\n            $(\"<div/>\").append(\n                (this.$button = $(\"<div/>\")\n                    .append((this.$icon = $(\"<i/>\")))\n                    .append((this.$title = $(\"<span/>\"))))\n            )\n        );\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.render();\n    },\n\n    render: function(options) {\n        var self = this;\n        var options = this.model.attributes;\n        this.$el\n            .removeClass()\n            .addClass(options.cls)\n            .addClass(options.disabled && \"disabled\")\n            .attr(\"disabled\", options.disabled)\n            .attr(\"id\", options.id)\n            .off(\"click\")\n            .on(\"click\", () => {\n                $(\".tooltip\").hide();\n                !options.disabled && options.onclick && options.onclick();\n            });\n        this.$button.addClass(\"button\").tooltip({ title: options.tooltip, placement: \"bottom\" });\n        this.$icon\n            .removeClass()\n            .addClass(\"icon fa\")\n            .addClass(options.icon);\n        this.$title.addClass(\"title\").html(options.title);\n        options.icon && options.title && this.$icon.addClass(\"ui-margin-right\");\n    }\n});\n\n/** This class creates a button with dropdown menu. */\nvar ButtonMenu = ButtonDefault.extend({\n    $menu: null,\n    initialize: function(options) {\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                id: \"\",\n                title: \"\",\n                pull: \"right\",\n                icon: null,\n                onclick: null,\n                cls: \"ui-button-icon ui-button-menu\",\n                tooltip: \"\",\n                target: \"\",\n                href: \"\",\n                onunload: null,\n                visible: true,\n                tag: \"\"\n            }).set(options);\n        this.collection = new Backbone.Collection();\n        this.setElement(\n            $(\"<div/>\").append(\n                (this.$root = $(\"<div/>\")\n                    .append((this.$icon = $(\"<i/>\")))\n                    .append((this.$title = $(\"<span/>\"))))\n            )\n        );\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.listenTo(this.collection, \"change add remove reset\", this.render, this);\n        this.render();\n    },\n\n    render: function() {\n        var self = this;\n        var options = this.model.attributes;\n        this.$el\n            .removeClass()\n            .addClass(\"dropdown\")\n            .addClass(options.cls)\n            .attr(\"id\", options.id)\n            .css({\n                display: options.visible && this.collection.where({ visible: true }).length > 0 ? \"block\" : \"none\"\n            });\n        this.$root\n            .addClass(\"root button dropdown-toggle\")\n            .attr(\"data-toggle\", \"dropdown\")\n            .tooltip({ title: options.tooltip, placement: \"bottom\" })\n            .off(\"click\")\n            .on(\"click\", e => {\n                $(\".tooltip\").hide();\n                e.preventDefault();\n                options.onclick && options.onclick();\n            });\n        this.$icon\n            .removeClass()\n            .addClass(\"icon fa\")\n            .addClass(options.icon);\n        this.$title\n            .removeClass()\n            .addClass(\"title\")\n            .html(options.title);\n        options.icon && options.title && this.$icon.addClass(\"ui-margin-right\");\n        this.$menu && this.$menu.remove();\n        if (this.collection.length > 0) {\n            this.$menu = $(\"<ul/>\")\n                .addClass(\"menu dropdown-menu\")\n                .addClass(`pull-${self.model.get(\"pull\")}`)\n                .attr(\"role\", \"menu\");\n            this.$el.append(this.$menu);\n        }\n        this.collection.each(submodel => {\n            var suboptions = submodel.attributes;\n            if (suboptions.visible) {\n                var $link = $(\"<a/>\")\n                    .addClass(\"dropdown-item\")\n                    .attr({\n                        href: suboptions.href,\n                        target: suboptions.target\n                    })\n                    .append(\n                        $(\"<i/>\")\n                            .addClass(\"fa\")\n                            .addClass(suboptions.icon)\n                            .css(\"display\", suboptions.icon ? \"inline-block\" : \"none\")\n                    )\n                    .append(suboptions.title)\n                    .on(\"click\", e => {\n                        if (suboptions.onclick) {\n                            e.preventDefault();\n                            suboptions.onclick();\n                        }\n                    });\n                self.$menu.append($(\"<li/>\").append($link));\n                suboptions.divider && self.$menu.append($(\"<li/>\").addClass(\"divider\"));\n            }\n        });\n    },\n\n    /** Add a new menu item */\n    addMenu: function(options) {\n        this.collection.add(\n            Utils.merge(options, {\n                title: \"\",\n                target: \"\",\n                href: \"\",\n                onclick: null,\n                divider: false,\n                visible: true,\n                icon: null,\n                cls: \"button-menu btn-group\"\n            })\n        );\n    }\n});\n\nexport default {\n    ButtonDefault: ButtonDefault,\n    ButtonLink: ButtonLink,\n    ButtonIcon: ButtonIcon,\n    ButtonCheck: ButtonCheck,\n    ButtonMenu: ButtonMenu\n};\n"]}
{"version":3,"sources":["mvc/ui/ui-misc.js"],"names":["Label","Backbone","View","extend","tagName","initialize","options","model","Model","setElement","$","listenTo","render","title","new_title","set","value","get","$el","removeClass","addClass","html","Message","message","status","cls","persistent","fade","update","messageForDisplay","timeout","window","clearTimeout","self","setTimeout","fadeOut","_","escape","UnescapedMessage","Input","type","placeholder","disabled","readonly","visible","area","color","style","events","input","new_val","undefined","attr","id","css","datalist","isArray","length","autocomplete","source","request","response","change","_onchange","val","each","attr_name","removeAttr","Hidden","append","$info","$hidden","show","text","hide","Upload","$file","$text","$wait","on","_readFile","e","file","target","files","reader","FileReader","onload","wait","result","readAsText","Button","ButtonDefault","ButtonIcon","ButtonCheck","ButtonMenu","ButtonLink","Checkbox","RadioButton","Radio","Select","Slider","Drilldown","Modal"],"mappings":"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","file":"../../../scripts/mvc/ui/ui-misc.js","sourcesContent":["/**\n *  This class contains backbone wrappers for basic ui elements such as Images, Labels, Buttons, Input fields etc.\n */\nimport Select from \"mvc/ui/ui-select-default\";\nimport Slider from \"mvc/ui/ui-slider\";\nimport Options from \"mvc/ui/ui-options\";\nimport Drilldown from \"mvc/ui/ui-drilldown\";\nimport Buttons from \"mvc/ui/ui-buttons\";\nimport Modal from \"mvc/ui/ui-modal\";\n\n/** Label wrapper */\nexport var Label = Backbone.View.extend({\n    tagName: \"label\",\n    initialize: function(options) {\n        this.model = (options && options.model) || new Backbone.Model(options);\n        this.tagName = options.tagName || this.tagName;\n        this.setElement($(`<${this.tagName}/>`));\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.render();\n    },\n    title: function(new_title) {\n        this.model.set(\"title\", new_title);\n    },\n    value: function() {\n        return this.model.get(\"title\");\n    },\n    render: function() {\n        this.$el\n            .removeClass()\n            .addClass(\"ui-label\")\n            .addClass(this.model.get(\"cls\"))\n            .html(this.model.get(\"title\"));\n        return this;\n    }\n});\n\n/** Displays messages used e.g. in the tool form */\nexport var Message = Backbone.View.extend({\n    initialize: function(options) {\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                message: null,\n                status: \"info\",\n                cls: \"\",\n                persistent: false,\n                fade: true\n            }).set(options);\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.render();\n    },\n    update: function(options) {\n        this.model.set(options);\n    },\n    render: function() {\n        this.$el\n            .removeClass()\n            .addClass(\"ui-message\")\n            .addClass(this.model.get(\"cls\"));\n        var status = this.model.get(\"status\");\n        if (this.model.get(\"large\")) {\n            this.$el.addClass(\n                `${(status == \"success\" && \"done\") || (status == \"danger\" && \"error\") || status}messagelarge`\n            );\n        } else {\n            this.$el.addClass(\"alert\").addClass(`alert-${status}`);\n        }\n        if (this.model.get(\"message\")) {\n            this.$el.html(this.messageForDisplay());\n            this.$el[this.model.get(\"fade\") ? \"fadeIn\" : \"show\"]();\n            this.timeout && window.clearTimeout(this.timeout);\n            if (!this.model.get(\"persistent\")) {\n                var self = this;\n                this.timeout = window.setTimeout(() => {\n                    self.model.set(\"message\", \"\");\n                }, 3000);\n            }\n        } else {\n            this.$el.fadeOut();\n        }\n        return this;\n    },\n    messageForDisplay: function() {\n        return _.escape(this.model.get(\"message\"));\n    }\n});\n\nexport var UnescapedMessage = Message.extend({\n    messageForDisplay: function() {\n        return this.model.get(\"message\");\n    }\n});\n\n/** Renders an input element used e.g. in the tool form */\nexport var Input = Backbone.View.extend({\n    initialize: function(options) {\n        this.model =\n            (options && options.model) ||\n            new Backbone.Model({\n                type: \"text\",\n                placeholder: \"\",\n                disabled: false,\n                readonly: false,\n                visible: true,\n                cls: \"\",\n                area: false,\n                color: null,\n                style: null\n            }).set(options);\n        this.tagName = this.model.get(\"area\") ? \"textarea\" : \"input\";\n        this.setElement($(`<${this.tagName}/>`));\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.render();\n    },\n    events: {\n        input: \"_onchange\"\n    },\n    value: function(new_val) {\n        new_val !== undefined && this.model.set(\"value\", typeof new_val === \"string\" ? new_val : \"\");\n        return this.model.get(\"value\");\n    },\n    render: function() {\n        var self = this;\n        this.$el\n            .removeClass()\n            .addClass(`ui-${this.tagName}`)\n            .addClass(this.model.get(\"cls\"))\n            .addClass(this.model.get(\"style\"))\n            .attr(\"id\", this.model.id)\n            .attr(\"type\", this.model.get(\"type\"))\n            .attr(\"placeholder\", this.model.get(\"placeholder\"))\n            .css(\"color\", this.model.get(\"color\") || \"\")\n            .css(\"border-color\", this.model.get(\"color\") || \"\");\n        var datalist = this.model.get(\"datalist\");\n        if ($.isArray(datalist) && datalist.length > 0) {\n            this.$el.autocomplete({\n                source: function(request, response) {\n                    response(self.model.get(\"datalist\"));\n                },\n                change: function() {\n                    self._onchange();\n                }\n            });\n        }\n        if (this.model.get(\"value\") !== this.$el.val()) {\n            this.$el.val(this.model.get(\"value\"));\n        }\n        _.each([\"readonly\", \"disabled\"], attr_name => {\n            self.model.get(attr_name) ? self.$el.attr(attr_name, true) : self.$el.removeAttr(attr_name);\n        });\n        this.$el[this.model.get(\"visible\") ? \"show\" : \"hide\"]();\n        return this;\n    },\n    _onchange: function() {\n        this.value(this.$el.val());\n        this.model.get(\"onchange\") && this.model.get(\"onchange\")(this.model.get(\"value\"));\n    }\n});\n\n/** Creates a hidden element input field used e.g. in the tool form */\nexport var Hidden = Backbone.View.extend({\n    initialize: function(options) {\n        this.model = (options && options.model) || new Backbone.Model(options);\n        this.setElement(\n            $(\"<div/>\")\n                .append((this.$info = $(\"<div/>\")))\n                .append((this.$hidden = $(\"<div/>\")))\n        );\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.render();\n    },\n    value: function(new_val) {\n        new_val !== undefined && this.model.set(\"value\", new_val);\n        return this.model.get(\"value\");\n    },\n    render: function() {\n        this.$el.attr(\"id\", this.model.id);\n        this.$hidden.val(this.model.get(\"value\"));\n        this.model.get(\"info\") ? this.$info.show().text(this.model.get(\"info\")) : this.$info.hide();\n        return this;\n    }\n});\n\n/** Creates a upload element input field */\nexport var Upload = Backbone.View.extend({\n    initialize: function(options) {\n        var self = this;\n        this.model = (options && options.model) || new Backbone.Model(options);\n        this.setElement(\n            $(\"<div/>\")\n                .append((this.$info = $(\"<div/>\")))\n                .append(\n                    (this.$file = $(\"<input/>\")\n                        .attr(\"type\", \"file\")\n                        .addClass(\"ui-margin-bottom\"))\n                )\n                .append(\n                    (this.$text = $(\"<textarea/>\")\n                        .addClass(\"ui-textarea\")\n                        .attr(\"disabled\", true))\n                )\n                .append((this.$wait = $(\"<i/>\").addClass(\"fa fa-spinner fa-spin\")))\n        );\n        this.listenTo(this.model, \"change\", this.render, this);\n        this.$file.on(\"change\", e => {\n            self._readFile(e);\n        });\n        this.render();\n    },\n    value: function(new_val) {\n        new_val !== undefined && this.model.set(\"value\", new_val);\n        return this.model.get(\"value\");\n    },\n    render: function() {\n        this.$el.attr(\"id\", this.model.id);\n        this.model.get(\"info\") ? this.$info.show().text(this.model.get(\"info\")) : this.$info.hide();\n        this.model.get(\"value\") ? this.$text.text(this.model.get(\"value\")).show() : this.$text.hide();\n        this.model.get(\"wait\") ? this.$wait.show() : this.$wait.hide();\n        return this;\n    },\n    _readFile: function(e) {\n        var self = this;\n        var file = e.target.files && e.target.files[0];\n        if (file) {\n            var reader = new FileReader();\n            reader.onload = function() {\n                self.model.set({ wait: false, value: this.result });\n            };\n            this.model.set({ wait: true, value: null });\n            reader.readAsText(file);\n        }\n    }\n});\n\n/* Make more Ui stuff directly available at this namespace (for backwards\n * compatibility).  We should eliminate this practice, though, and just require\n * what we need where we need it, allowing for better package optimization.\n */\n\nexport let Button = Buttons.ButtonDefault;\nexport let ButtonIcon = Buttons.ButtonIcon;\nexport let ButtonCheck = Buttons.ButtonCheck;\nexport let ButtonMenu = Buttons.ButtonMenu;\nexport let ButtonLink = Buttons.ButtonLink;\nexport let Checkbox = Options.Checkbox;\nexport let RadioButton = Options.RadioButton;\nexport let Radio = Options.Radio;\nexport { Select, Slider, Drilldown };\n\nexport default {\n    Button: Buttons.ButtonDefault,\n    ButtonIcon: Buttons.ButtonIcon,\n    ButtonCheck: Buttons.ButtonCheck,\n    ButtonMenu: Buttons.ButtonMenu,\n    ButtonLink: Buttons.ButtonLink,\n    Input: Input,\n    Label: Label,\n    Message: Message,\n    UnescapedMessage: UnescapedMessage,\n    Upload: Upload,\n    Modal: Modal,\n    RadioButton: Options.RadioButton,\n    Checkbox: Options.Checkbox,\n    Radio: Options.Radio,\n    Select: Select,\n    Hidden: Hidden,\n    Slider: Slider,\n    Drilldown: Drilldown\n};\n"]}
{"version":3,"sources":["mvc/toolshed/repo-queue-view.js"],"names":["ToolShedRepositoryQueue","Backbone","View","extend","el","render","options","_","repository_queue_template","templateRepoQueue","$el","html","repository","model","templateRepoQueueTab","template","join","workflows_missing_tools","RepoQueue"],"mappings":";;;;;;;AACA,QAAIA,0BAA0BC,SAASC,IAAT,CAAcC,MAAd,CAAqB;AAC/CC,YAAI,gBAD2C;;AAG/CC,gBAAQ,gBAASC,OAAT,EAAkB;AACtB,iBAAKA,OAAL,GAAeC,EAAEJ,MAAF,CAAS,KAAKG,OAAd,EAAuBA,OAAvB,CAAf;AACA,gBAAIE,4BAA4B,KAAKC,iBAAL,EAAhC;AACA,iBAAKC,GAAL,CAASC,IAAT,CAAcH,0BAA0B,EAAEI,YAAY,KAAKC,KAAnB,EAA1B,CAAd;AACH,SAP8C;;AAS/CC,8BAAsBP,EAAEQ,QAAF,CAClB,CACI,6EADJ,EAEI,iFAFJ,EAGI,OAHJ,EAIEC,IAJF,CAIO,EAJP,CADkB,CATyB;;AAiB/CP,2BAAmBF,EAAEQ,QAAF,CACf,CACI,8CADJ,EAEI,uGAFJ,EAGI,gCAHJ,EAII,MAJJ,EAKI,qIALJ,EAMI,qIANJ,EAOI,sCAPJ,EAQI,kCARJ,EASI,mCATJ,EAUI,sCAVJ,EAWI,OAXJ,EAYI,UAZJ,EAaI,SAbJ,EAcI,mDAdJ,EAeI,kDAfJ,EAgBI,yBAhBJ,EAiBI,mMAjBJ,EAkBI,OAlBJ,EAmBI,yBAnBJ,EAoBI,wMApBJ,EAqBI,OArBJ,EAsBI,6DAtBJ,EAuBI,oDAvBJ,EAwBI,qDAxBJ,EAyBI,yDAzBJ,EA0BI,OA1BJ,EA2BI,WA3BJ,EA4BI,UA5BJ,EA6BI,UA7BJ,EA8BI,8FA9BJ,EA+BI,QA/BJ,EAgCEC,IAhCF,CAgCO,EAhCP,CADe,CAjB4B;;AAqD/CC,iCAAyBV,EAAEQ,QAAF,CACrB,CACI,2GADJ,EAEI,gCAFJ,EAGI,MAHJ,EAII,uCAJJ,EAKI,sCALJ,EAMI,kCANJ,EAOI,kCAPJ,EAQI,mCARJ,EASI,qCATJ,EAUI,OAVJ,EAWI,UAXJ,EAYI,SAZJ,EAaI,+DAbJ,EAcI,uDAdJ,EAeI,+CAfJ,EAgBI,MAhBJ,EAiBI,yBAjBJ,EAkBI,6BAlBJ,EAmBI,wDAnBJ,EAoBI,2CApBJ,EAqBI,WArBJ,EAsBI,OAtBJ,EAuBI,OAvBJ,EAwBI,yBAxBJ,EAyBI,6BAzBJ,EA0BI,sDA1BJ,EA2BI,6CA3BJ,EA4BI,WA5BJ,EA6BI,OA7BJ,EA8BI,OA9BJ,EA+BI,wDA/BJ,EAgCI,wDAhCJ,EAiCI,wDAjCJ,EAkCI,yBAlCJ,EAmCI,6BAnCJ,EAoCI,mRApCJ,EAqCI,kQArCJ,EAsCI,OAtCJ,EAuCI,OAvCJ,EAwCI,OAxCJ,EAyCI,WAzCJ,EA0CI,OA1CJ,EA2CI,QA3CJ,EA4CEC,IA5CF,CA4CO,EA5CP,CADqB;AArDsB,KAArB,CAA9B;;sBAsGe;AACXE,mBAAWlB;AADA,K","file":"../../../scripts/mvc/toolshed/repo-queue-view.js","sourcesContent":["import \"toolshed/repository-queue-model\";\nvar ToolShedRepositoryQueue = Backbone.View.extend({\n    el: \"#category_list\",\n\n    render: function(options) {\n        this.options = _.extend(this.options, options);\n        var repository_queue_template = this.templateRepoQueue();\n        this.$el.html(repository_queue_template({ repository: this.model }));\n    },\n\n    templateRepoQueueTab: _.template(\n        [\n            '<li class=\"nav-tab\" role=\"presentation\" id=\"repository_installation_queue\">',\n            '<a href=\"#repository_queue\" data-toggle=\"tab\">Repository Installation Queue</a>',\n            \"</li>\"\n        ].join(\"\")\n    ),\n\n    templateRepoQueue: _.template(\n        [\n            '<div class=\"tab-pane\" id=\"repository_queue\">',\n            '<table id=\"queued_repositories\" class=\"grid\" border=\"0\" cellpadding=\"2\" cellspacing=\"2\" width=\"100%\">',\n            '<thead id=\"grid-table-header\">',\n            \"<tr>\",\n            '<th class=\"datasetRow\"><input class=\"btn btn-primary\" type=\"submit\" id=\"install_all\" name=\"install_all\" value=\"Install all\" /></th>',\n            '<th class=\"datasetRow\"><input class=\"btn btn-primary\" type=\"submit\" id=\"clear_queue\" name=\"clear_queue\" value=\"Clear queue\" /></th>',\n            '<th class=\"datasetRow\">ToolShed</th>',\n            '<th class=\"datasetRow\">Name</th>',\n            '<th class=\"datasetRow\">Owner</th>',\n            '<th class=\"datasetRow\">Revision</th>',\n            \"</tr>\",\n            \"</thead>\",\n            \"<tbody>\",\n            \"<% _.each(repositories, function(repository) { %>\",\n            '<tr id=\"queued_repository_<%= repository.id %>\">',\n            '<td class=\"datasetRow\">',\n            '<input class=\"btn btn-primary install_one\" data-repokey=\"<%= repository.queue_key %>\" type=\"submit\" id=\"install_repository_<%= repository.id %>\" name=\"install_repository\" value=\"Install now\" />',\n            \"</td>\",\n            '<td class=\"datasetRow\">',\n            '<input class=\"btn btn-primary remove_one\" data-repokey=\"<%= repository.queue_key %>\" type=\"submit\" id=\"unqueue_repository_<%= repository.id %>\" name=\"unqueue_repository\" value=\"Remove from queue\" />',\n            \"</td>\",\n            '<td class=\"datasetRow\"><%= repository.tool_shed_url %></td>',\n            '<td class=\"datasetRow\"><%= repository.name %></td>',\n            '<td class=\"datasetRow\"><%= repository.owner %></td>',\n            '<td class=\"datasetRow\"><%= repository.changeset %></td>',\n            \"</tr>\",\n            \"<% }); %>\",\n            \"</tbody>\",\n            \"</table>\",\n            '<input type=\"button\" class=\"btn btn-primary\" id=\"from_workflow\" value=\"Add from workflow\" />',\n            \"</div>\"\n        ].join(\"\")\n    ),\n\n    workflows_missing_tools: _.template(\n        [\n            '<table id=\"workflows_missing_tools\" class=\"grid\" border=\"0\" cellpadding=\"2\" cellspacing=\"2\" width=\"100%\">',\n            '<thead id=\"grid-table-header\">',\n            \"<tr>\",\n            '<th class=\"datasetRow\">Workflows</th>',\n            '<th class=\"datasetRow\">Tool IDs</th>',\n            '<th class=\"datasetRow\">Shed</th>',\n            '<th class=\"datasetRow\">Name</th>',\n            '<th class=\"datasetRow\">Owner</th>',\n            '<th class=\"datasetRow\">Actions</th>',\n            \"</tr>\",\n            \"</thead>\",\n            \"<tbody>\",\n            \"<% _.each(Object.keys(workflows), function(workflow_key) { %>\",\n            '<% var workflow_details = workflow_key.split(\"/\"); %>',\n            \"<% var workflow = workflows[workflow_key]; %>\",\n            \"<tr>\",\n            '<td class=\"datasetRow\">',\n            '<ul class=\"workflow_names\">',\n            \"<% _.each(workflow.workflows.sort(), function(wf) { %>\",\n            '<li class=\"workflow_names\"><%= wf %></li>',\n            \"<% }); %>\",\n            \"</ul>\",\n            \"</td>\",\n            '<td class=\"datasetRow\">',\n            '<ul class=\"workflow_tools\">',\n            \"<% _.each(workflow.tools.sort(), function(tool) { %>\",\n            '<li class=\"workflow_tools\"><%= tool %></li>',\n            \"<% }); %>\",\n            \"</ul>\",\n            \"</td>\",\n            '<td class=\"datasetRow\"><%= workflow_details[0] %></td>',\n            '<td class=\"datasetRow\"><%= workflow_details[2] %></td>',\n            '<td class=\"datasetRow\"><%= workflow_details[1] %></td>',\n            '<td class=\"datasetRow\">',\n            '<ul class=\"workflow_tools\">',\n            '<li class=\"workflow_tools\"><input type=\"button\" class=\"show_wf_repo btn btn-primary\" data-shed=\"<%= workflow_details[0] %>\" data-owner=\"<%= workflow_details[1] %>\" data-repo=\"<%= workflow_details[2] %>\" data-toolids=\"<%= workflow.tools.join(\",\") %>\" value=\"Preview\" /></li>',\n            '<li><input type=\"button\" class=\"queue_wf_repo btn btn-primary\" data-shed=\"<%= workflow_details[0] %>\" data-owner=\"<%= workflow_details[1] %>\" data-repo=\"<%= workflow_details[2] %>\" data-toolids=\"<%= workflow.tools.join(\",\") %>\" value=\"Add to queue\" /></li>',\n            \"</ul>\",\n            \"</td>\",\n            \"</tr>\",\n            \"<% }); %>\",\n            \"</ul>\",\n            \"</div>\"\n        ].join(\"\")\n    )\n});\n\nexport default {\n    RepoQueue: ToolShedRepositoryQueue\n};\n"]}
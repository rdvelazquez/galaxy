{"version":3,"sources":["mvc/toolshed/shed-list-view.js"],"names":["View","Backbone","extend","defaults","tool_sheds","url","name","initialize","options","self","_","model","ShedsCollection","listenTo","render","fetch","el","toolshed_list_template","templateToolshedList","$el","html","title","models","queue","queueLength","reDraw","empty","template","join","ShedListView"],"mappings":";;;;;;;;;;;;;;;;;;;AAGA,QAAIA,OAAOC,SAASD,IAAT,CAAcE,MAAd,CAAqB;AAC5BC,kBAAU;AACNC,wBAAY,CACR;AACIC,qBAAK,iCADT;AAEIC,sBAAM;AAFV,aADQ;AADN,SADkB;;AAU5BC,oBAAY,oBAASC,OAAT,EAAkB;AAC1B,gBAAIC,OAAO,IAAX;AACA,iBAAKD,OAAL,GAAeE,EAAEP,QAAF,CAAW,KAAKK,OAAL,IAAgB,EAA3B,EAA+B,KAAKL,QAApC,CAAf;AACA,iBAAKQ,KAAL,GAAa,IAAI,wBAAeC,eAAnB,EAAb;AACA,iBAAKC,QAAL,CAAc,KAAKF,KAAnB,EAA0B,MAA1B,EAAkC,KAAKG,MAAvC;AACA,iBAAKH,KAAL,CAAWI,KAAX;AACH,SAhB2B;;AAkB5BC,YAAI,SAlBwB;;AAoB5BF,gBAAQ,gBAASN,OAAT,EAAkB;AACtB,iBAAKA,OAAL,GAAeE,EAAEP,QAAF,CAAW,KAAKK,OAAL,IAAgB,EAA3B,EAA+BA,OAA/B,EAAwC,KAAKL,QAA7C,CAAf;AACA,gBAAIc,yBAAyB,KAAKC,oBAAlC;AACA,iBAAKC,GAAL,CAASC,IAAT,CACIH,uBAAuB;AACnBI,uBAAO,4BAAG,8BAAH,CADY;AAEnBjB,4BAAY,KAAKO,KAAL,CAAWW,MAFJ;AAGnBC,uBAAO,eAAcC,WAAd;AAHY,aAAvB,CADJ;AAOH,SA9B2B;;AAgC5BC,gBAAQ,gBAASjB,OAAT,EAAkB;AACtB,iBAAKW,GAAL,CAASO,KAAT;AACA,iBAAKZ,MAAL,CAAYN,OAAZ;AACH,SAnC2B;;AAqC5BU,8BAAsBR,EAAEiB,QAAF,CAClB,CACI,wEADJ,EAEI,4DAFJ,EAGI,uJAHJ,EAII,QAJJ,EAKI,sDALJ,EAMI,wBANJ,EAOI,sBAPJ,EAQI,2CARJ,EASI,2BATJ,EAUI,MAVJ,EAWI,uEAXJ,EAYI,6GAZJ,EAaI,QAbJ,EAcI,OAdJ,EAeI,OAfJ,EAgBI,WAhBJ,EAiBI,UAjBJ,EAkBI,QAlBJ,EAmBI,iCAnBJ,EAoBI,QApBJ,EAqBEC,IArBF,CAqBO,EArBP,CADkB;AArCM,KAArB,CAAX;;sBA+De;AACXC,sBAAc7B;AADH,K","file":"../../../scripts/mvc/toolshed/shed-list-view.js","sourcesContent":["import _l from \"utils/localization\";\nimport toolshed_model from \"mvc/toolshed/toolshed-model\";\nimport toolshed_util from \"mvc/toolshed/util\";\nvar View = Backbone.View.extend({\n    defaults: {\n        tool_sheds: [\n            {\n                url: \"https://toolshed.g2.bx.psu.edu/\",\n                name: \"Galaxy Main Tool Shed\"\n            }\n        ]\n    },\n\n    initialize: function(options) {\n        var self = this;\n        this.options = _.defaults(this.options || {}, this.defaults);\n        this.model = new toolshed_model.ShedsCollection();\n        this.listenTo(this.model, \"sync\", this.render);\n        this.model.fetch();\n    },\n\n    el: \"#center\",\n\n    render: function(options) {\n        this.options = _.defaults(this.options || {}, options, this.defaults);\n        var toolshed_list_template = this.templateToolshedList;\n        this.$el.html(\n            toolshed_list_template({\n                title: _l(\"Configured Galaxy Tool Sheds\"),\n                tool_sheds: this.model.models,\n                queue: toolshed_util.queueLength()\n            })\n        );\n    },\n\n    reDraw: function(options) {\n        this.$el.empty();\n        this.render(options);\n    },\n\n    templateToolshedList: _.template(\n        [\n            '<div class=\"unified-panel-header\" id=\"panel_header\" unselectable=\"on\">',\n            '<div class=\"unified-panel-header-inner\"><%= title %></div>',\n            '<div class=\"unified-panel-header-inner\" style=\"position: absolute; right: 5px; top: 0px;\"><a href=\"#/queue\">Repository Queue (<%= queue %>)</a></div>',\n            \"</div>\",\n            '<div class=\"unified-panel-body\" id=\"list_toolsheds\">',\n            '<div class=\"form-row\">',\n            '<table class=\"grid\">',\n            \"<% _.each(tool_sheds, function(shed) { %>\",\n            '<tr class=\"libraryTitle\">',\n            \"<td>\",\n            '<div style=\"float: left; margin-left: 1px;\" class=\"menubutton split\">',\n            '<a class=\"view-info shed-selector\" href=\"#/categories/s/<%= shed.get(\"url\") %>\"><%= shed.get(\"name\") %></a>',\n            \"</div>\",\n            \"</td>\",\n            \"</tr>\",\n            \"<% }); %>\",\n            \"</table>\",\n            \"</div>\",\n            '<div style=\"clear: both\"></div>',\n            \"</div>\"\n        ].join(\"\")\n    )\n});\n\nexport default {\n    ShedListView: View\n};\n"]}
{"version":3,"sources":["mvc/history/hda-li.js"],"names":["_super","DatasetListItemView","HDAListItemView","extend","className","prototype","initialize","attributes","options","call","toString","modelString","model","templates","titleBarTemplate","dataset","hid","_","escape","name","nametagTemplate","warnings","hidden","wrapTemplate","titleBar"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAKA;AACA,QAAIA,SAAS,oBAAWC,mBAAxB;AACA;;;;;AAKA,QAAIC,kBAAkBF,OAAOG,MAAP;AAClB,2CAAwC;AACpCC,mBAAcJ,OAAOK,SAAP,CAAiBD,SAA/B,qBADoC;;AAGpCE,oBAAY,oBAASC,UAAT,EAAqBC,OAArB,EAA8B;AACtCR,mBAAOK,SAAP,CAAiBC,UAAjB,CAA4BG,IAA5B,CAAiC,IAAjC,EAAuCF,UAAvC,EAAmDC,OAAnD;AACH,SALmC;;AAOpC;AACA;AACAE,kBAAU,oBAAW;AACjB,gBAAIC,cAAc,KAAKC,KAAL,QAAgB,KAAKA,KAArB,GAA+B,YAAjD;AACA,wCAA0BD,WAA1B;AACH;AAZmC,KADtB,CAAtB;;AAiBA;AACA;AACAT,oBAAgBG,SAAhB,CAA0BQ,SAA1B,GAAuC,YAAM;AACzC,YAAIC,mBAAmB,SAAnBA,gBAAmB;AAAA,yMAISC,QAAQC,GAJjB,sDAKUC,EAAEC,MAAF,CAASH,QAAQI,IAAjB,CALV,oEAQb,wBAAgBC,eAAhB,CAAgCL,OAAhC,CARa;AAAA,SAAvB;;AAYA,YAAIM,WAAWJ,EAAEd,MAAF,CAAS,EAAT,EAAaH,OAAOK,SAAP,CAAiBQ,SAAjB,CAA2BQ,QAAxC,EAAkD;AAC7DC,oBAAQ,kBAASC,YAAT,CACJ;AACI;AACA,2CAFJ,EAGI,8CAHJ,EAII,4BAAG,8BAAH,CAJJ,EAKI,QALJ,EAMI,SANJ,CADI,EASJ,SATI;AADqD,SAAlD,CAAf;;AAcA,eAAON,EAAEd,MAAF,CAAS,EAAT,EAAaH,OAAOK,SAAP,CAAiBQ,SAA9B,EAAyC;AAC5CW,sBAAUV,gBADkC;AAE5CO,sBAAUA;AAFkC,SAAzC,CAAP;AAIH,KA/BqC,EAAtC;;AAiCA;sBACe;AACXnB,yBAAiBA;AADN,K","file":"../../../scripts/mvc/history/hda-li.js","sourcesContent":["import DATASET_LI from \"mvc/dataset/dataset-li\";\nimport BASE_MVC from \"mvc/base-mvc\";\nimport HISTORY_ITEM_LI from \"mvc/history/history-item-li\";\nimport _l from \"utils/localization\";\n\n//==============================================================================\nvar _super = DATASET_LI.DatasetListItemView;\n/** @class Read only view for HistoryDatasetAssociation.\n *      Since there are no controls on the HDAView to hide the dataset,\n *      the primary thing this class does (currently) is override templates\n *      to render the HID.\n */\nvar HDAListItemView = _super.extend(\n    /** @lends HDAListItemView.prototype */ {\n        className: `${_super.prototype.className} history-content`,\n\n        initialize: function(attributes, options) {\n            _super.prototype.initialize.call(this, attributes, options);\n        },\n\n        // ......................................................................... misc\n        /** String representation */\n        toString: function() {\n            var modelString = this.model ? `${this.model}` : \"(no model)\";\n            return `HDAListItemView(${modelString})`;\n        }\n    }\n);\n\n// ............................................................................ TEMPLATES\n/** underscore templates */\nHDAListItemView.prototype.templates = (() => {\n    var titleBarTemplate = dataset => `\n        <div class=\"title-bar clear\" tabindex=\"0\">\n            <span class=\"state-icon\"></span>\n            <div class=\"title\">\n                <span class=\"hid\">${dataset.hid}</span>\n                <span class=\"name\">${_.escape(dataset.name)}</span>\n            </div>\n            </br>\n            ${HISTORY_ITEM_LI.nametagTemplate(dataset)}\n        </div>\n    `;\n\n    var warnings = _.extend({}, _super.prototype.templates.warnings, {\n        hidden: BASE_MVC.wrapTemplate(\n            [\n                // add a warning when hidden\n                \"<% if( !dataset.visible ){ %>\",\n                '<div class=\"hidden-msg warningmessagesmall\">',\n                _l(\"This dataset has been hidden\"),\n                \"</div>\",\n                \"<% } %>\"\n            ],\n            \"dataset\"\n        )\n    });\n\n    return _.extend({}, _super.prototype.templates, {\n        titleBar: titleBarTemplate,\n        warnings: warnings\n    });\n})();\n\n//==============================================================================\nexport default {\n    HDAListItemView: HDAListItemView\n};\n"]}
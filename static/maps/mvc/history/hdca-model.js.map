{"version":3,"sources":["mvc/history/hdca-model.js"],"names":["hcontentMixin","HistoryContentMixin","DC","DatasetCollection","HistoryDatasetCollection","extend","defaults","_","clone","prototype","history_content_type","model_class","save","attributes","options","isNew","url","urlRoot","get","type","call","toString"],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;;;;;AAKA,QAAIA,gBAAgB,8BAAgBC,mBAApC;;AAEA,QAAIC,KAAK,0BAASC,iBAAlB;;AAEA;AACA;;AAEA,QAAIC,2BAA2BF,GAAGG,MAAH,CAAUL,aAAV,EAAyBK,MAAzB;AAC3B,oDAAiD;AAC7CC,kBAAUC,EAAEF,MAAF,CAASE,EAAEC,KAAF,CAAQN,GAAGO,SAAH,CAAaH,QAArB,CAAT,EAAyC;AAC/CI,kCAAsB,oBADyB;AAE/CC,yBAAa;AAFkC,SAAzC,CADmC;;AAM7C;AACA;AACAC,cAAM,cAASC,UAAT,EAAqBC,OAArB,EAA8B;AAChC,gBAAI,KAAKC,KAAL,EAAJ,EAAkB;AACdD,0BAAUA,WAAW,EAArB;AACAA,wBAAQE,GAAR,GAAiB,KAAKC,OAAL,GAAe,KAAKC,GAAL,CAAS,YAAT,CAAhC;AACAL,6BAAaA,cAAc,EAA3B;AACAA,2BAAWM,IAAX,GAAkB,oBAAlB;AACH;AACD,mBAAOjB,GAAGO,SAAH,CAAaG,IAAb,CAAkBQ,IAAlB,CAAuB,IAAvB,EAA6BP,UAA7B,EAAyCC,OAAzC,CAAP;AACH,SAhB4C;;AAkB7C;AACAO,kBAAU,oBAAW;AACjB,+BAAiBnB,GAAGO,SAAH,CAAaY,QAAb,CAAsBD,IAAtB,CAA2B,IAA3B,CAAjB;AACH;AArB4C,KADtB,CAA/B;;AA0BA;sBACe;AACXhB,kCAA0BA;AADf,K","file":"../../../scripts/mvc/history/hdca-model.js","sourcesContent":["import DC_MODEL from \"mvc/collection/collection-model\";\nimport HISTORY_CONTENT from \"mvc/history/history-content-model\";\nimport _l from \"utils/localization\";\n\n/*==============================================================================\n\nModels for DatasetCollections contained within a history.\n\n==============================================================================*/\nvar hcontentMixin = HISTORY_CONTENT.HistoryContentMixin;\n\nvar DC = DC_MODEL.DatasetCollection;\n\n//==============================================================================\n/** @class Backbone model for List Dataset Collection within a History.\n */\nvar HistoryDatasetCollection = DC.extend(hcontentMixin).extend(\n    /** @lends HistoryDatasetCollection.prototype */ {\n        defaults: _.extend(_.clone(DC.prototype.defaults), {\n            history_content_type: \"dataset_collection\",\n            model_class: \"HistoryDatasetCollectionAssociation\"\n        }),\n\n        //==============================================================================\n        /** Override to post to contents route w/o id. */\n        save: function(attributes, options) {\n            if (this.isNew()) {\n                options = options || {};\n                options.url = `${this.urlRoot + this.get(\"history_id\")}/contents`;\n                attributes = attributes || {};\n                attributes.type = \"dataset_collection\";\n            }\n            return DC.prototype.save.call(this, attributes, options);\n        },\n\n        /** String representation. */\n        toString: function() {\n            return `History${DC.prototype.toString.call(this)}`;\n        }\n    }\n);\n\n//==============================================================================\nexport default {\n    HistoryDatasetCollection: HistoryDatasetCollection\n};\n"]}
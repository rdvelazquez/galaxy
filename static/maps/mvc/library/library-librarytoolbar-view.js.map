{"version":3,"sources":["mvc/library/library-librarytoolbar-view.js"],"names":["LibraryToolbarView","Backbone","View","extend","el","defaults","search_term","events","initialize","options","_","render","toolbar_template","templateToolBar","is_admin","is_anonym","Galaxy","user","isAdmin","isAnonymous","$el","html","admin_user","anon_user","find","checked","libraries","preferences","get","renderPaginator","paginator_template","templatePaginator","show_page","parseInt","page_count","total_libraries_count","libraries_shown","library_page_size","createLibraryFromModal","event","preventDefault","stopPropagation","self","modal","show","closing_events","title","body","templateNewLibraryInModal","buttons","Create","createNewLibrary","Close","hide","libraryDetails","serializeNewLibrary","validateNewLibrary","library","Library","save","success","libraryListView","collection","add","clearLibraryModal","error","model","response","responseJSON","err_msg","showPageSizePrompt","e","prompt","set","$","val","name","description","synopsis","includeDeletedChecked","target","with_deleted","fetchDeleted","excludeRestrictedChecked","without_restricted","searchLibraries","template","join"],"mappings":"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","file":"../../../scripts/mvc/library/library-librarytoolbar-view.js","sourcesContent":["import _l from \"utils/localization\";\nimport mod_toastr from \"libs/toastr\";\nimport mod_library_model from \"mvc/library/library-model\";\n/**\n * This view represents the top part of the library page.\n * It contains the tool bar with controls.\n */\nvar LibraryToolbarView = Backbone.View.extend({\n    el: \"#center\",\n\n    defaults: {\n        search_term: \"\"\n    },\n\n    events: {\n        \"click #create_new_library_btn\": \"createLibraryFromModal\",\n        \"click #include_deleted_chk\": \"includeDeletedChecked\",\n        \"click #exclude_restricted_chk\": \"excludeRestrictedChecked\",\n        \"click .page_size_prompt\": \"showPageSizePrompt\",\n        \"keyup .library-search-input\": \"searchLibraries\"\n    },\n\n    initialize: function(options) {\n        this.options = _.defaults(this.options || {}, options, this.defaults);\n        this.render();\n    },\n\n    render: function() {\n        var toolbar_template = this.templateToolBar();\n        var is_admin = false;\n        var is_anonym = true;\n        if (Galaxy.user) {\n            is_admin = Galaxy.user.isAdmin();\n            is_anonym = Galaxy.user.isAnonymous();\n        }\n        this.$el.html(toolbar_template({ admin_user: is_admin, anon_user: is_anonym }));\n        if (is_admin) {\n            this.$el.find(\"#include_deleted_chk\")[0].checked = Galaxy.libraries.preferences.get(\"with_deleted\");\n            this.$el.find(\"#exclude_restricted_chk\")[0].checked = Galaxy.libraries.preferences.get(\n                \"without_restricted\"\n            );\n        }\n    },\n\n    /**\n     * Renders the element that shows pages into its div within the toolbar.\n     */\n    renderPaginator: function(options) {\n        this.options = _.extend(this.options, options);\n        var paginator_template = this.templatePaginator();\n        this.$el.find(\"#library_paginator\").html(\n            paginator_template({\n                show_page: parseInt(this.options.show_page),\n                page_count: parseInt(this.options.page_count),\n                total_libraries_count: this.options.total_libraries_count,\n                libraries_shown: this.options.libraries_shown,\n                library_page_size: Galaxy.libraries.preferences.get(\"library_page_size\")\n            })\n        );\n    },\n\n    /**\n     * User clicked on 'New library' button. Show modal to\n     * satisfy the wish.\n     */\n    createLibraryFromModal: function(event) {\n        event.preventDefault();\n        event.stopPropagation();\n        var self = this;\n        this.modal = Galaxy.modal;\n        this.modal.show({\n            closing_events: true,\n            title: _l(\"Create New Library\"),\n            body: this.templateNewLibraryInModal(),\n            buttons: {\n                Create: function() {\n                    self.createNewLibrary();\n                },\n                Close: function() {\n                    self.modal.hide();\n                }\n            }\n        });\n    },\n\n    /**\n     * Create the new library using the API asynchronously.\n     */\n    createNewLibrary: function() {\n        var libraryDetails = this.serializeNewLibrary();\n        if (this.validateNewLibrary(libraryDetails)) {\n            var library = new mod_library_model.Library();\n            var self = this;\n            library.save(libraryDetails, {\n                success: function(library) {\n                    Galaxy.libraries.libraryListView.collection.add(library);\n                    self.modal.hide();\n                    self.clearLibraryModal();\n                    Galaxy.libraries.libraryListView.render();\n                    mod_toastr.success(\"Library created.\");\n                },\n                error: function(model, response) {\n                    if (typeof response.responseJSON !== \"undefined\") {\n                        mod_toastr.error(response.responseJSON.err_msg);\n                    } else {\n                        mod_toastr.error(\"An error occured.\");\n                    }\n                }\n            });\n        } else {\n            mod_toastr.error(\"Library's name is missing.\");\n        }\n        return false;\n    },\n\n    /**\n     * Show user the propmpt to change the number of libs shown on page.\n     */\n    showPageSizePrompt: function(e) {\n        e.preventDefault();\n        var library_page_size = prompt(\n            \"How many libraries per page do you want to see?\",\n            Galaxy.libraries.preferences.get(\"library_page_size\")\n        );\n        if (library_page_size != null && library_page_size == parseInt(library_page_size)) {\n            Galaxy.libraries.preferences.set({\n                library_page_size: parseInt(library_page_size)\n            });\n            Galaxy.libraries.libraryListView.render({ show_page: 1 });\n        }\n    },\n\n    /**\n     * Clear the library modal once it is saved.\n     */\n    clearLibraryModal: function() {\n        $(\"input[name='Name']\").val(\"\");\n        $(\"input[name='Description']\").val(\"\");\n        $(\"input[name='Synopsis']\").val(\"\");\n    },\n\n    /**\n     * Prepare new library variables to be submitted to API.\n     */\n    serializeNewLibrary: function() {\n        return {\n            name: $(\"input[name='Name']\").val(),\n            description: $(\"input[name='Description']\").val(),\n            synopsis: $(\"input[name='Synopsis']\").val()\n        };\n    },\n\n    /**\n     * Check whether entered values are valid.\n     */\n    validateNewLibrary: function(libraryDetails) {\n        return libraryDetails.name !== \"\";\n    },\n\n    /**\n     * Include or exclude deleted libraries in the view.\n     */\n    includeDeletedChecked: function(event) {\n        if (event.target.checked) {\n            Galaxy.libraries.preferences.set({ with_deleted: true });\n            Galaxy.libraries.libraryListView.fetchDeleted();\n        } else {\n            Galaxy.libraries.preferences.set({ with_deleted: false });\n            Galaxy.libraries.libraryListView.render();\n        }\n    },\n\n    /**\n     * Include or exclude restricted libraries in the view.\n     */\n    excludeRestrictedChecked: function(event) {\n        if (event.target.checked) {\n            Galaxy.libraries.preferences.set({ without_restricted: true });\n        } else {\n            Galaxy.libraries.preferences.set({ without_restricted: false });\n        }\n        Galaxy.libraries.libraryListView.render();\n    },\n\n    /**\n     * Take the contents of the search field and send it to the list view\n     * to query the collection of libraries.\n     */\n    searchLibraries: function(event) {\n        var search_term = $(\".library-search-input\").val();\n        this.options.search_term = search_term;\n        Galaxy.libraries.libraryListView.searchLibraries(search_term);\n    },\n\n    templateToolBar: function() {\n        return _.template(\n            [\n                '<div class=\"library_style_container\">',\n                '<div id=\"toolbar_form\">',\n                '<div id=\"library_toolbar\">',\n                '<form class=\"form-inline\" role=\"form\">',\n                '<span><strong><a href=\"#\" title=\"Go to first page\">DATA LIBRARIES</a></strong></span>',\n                '<span id=\"library_paginator\" class=\"library-paginator\">',\n                // paginator will append here\n                \"</span>\",\n                '<div class=\"form-group toolbar-item\">',\n                '<input type=\"text\" class=\"form-control library-search-input\" placeholder=\"Search\" size=\"30\">',\n                \"</div>\",\n                // only admins see the following\n                \"<% if(admin_user === true) { %>\",\n                '<div class=\"checkbox toolbar-item\" style=\"height: 20px;\">',\n                \"<label>\",\n                '<input id=\"include_deleted_chk\" type=\"checkbox\">',\n                \"include deleted \",\n                \"</input>\",\n                \"</label>\",\n                \"<label>\",\n                '<input id=\"exclude_restricted_chk\" type=\"checkbox\">',\n                \"exclude restricted\",\n                \"</input>\",\n                \"</label>\",\n                \"</div>\",\n                '<span class=\"toolbar-item\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Create New Library\">',\n                '<button id=\"create_new_library_btn\" class=\"primary-button btn-xs\" type=\"button\"><span class=\"fa fa-plus\"></span> New Library</button>',\n                \"</span>\",\n                \"<% } %>\",\n                '<span class=\"help-button\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"See this screen annotated\">',\n                '<a href=\"https://galaxyproject.org/data-libraries/screen/list-of-libraries/\" target=\"_blank\">',\n                '<button class=\"primary-button\" type=\"button\"><span class=\"fa fa-question-circle\"></span> Help</button>',\n                \"</a>\",\n                \"</span>\",\n                \"</form>\",\n                \"</div>\",\n                \"</div>\",\n                '<div id=\"libraries_element\">',\n                // table with libraries will append here\n                \"</div>\",\n                \"</div>\"\n            ].join(\"\")\n        );\n    },\n\n    templatePaginator: function() {\n        return _.template(\n            [\n                '<ul class=\"pagination pagination-sm\">',\n                \"<% if ( ( show_page - 1 ) > 0 ) { %>\",\n                \"<% if ( ( show_page - 1 ) > page_count ) { %>\", // we are on higher page than total page count\n                '<li><a href=\"#page/1\"><span class=\"fa fa-angle-double-left\"></span></a></li>',\n                '<li class=\"disabled\"><a href=\"#page/<% print( show_page ) %>\"><% print( show_page - 1 ) %></a></li>',\n                \"<% } else { %>\",\n                '<li><a href=\"#page/1\"><span class=\"fa fa-angle-double-left\"></span></a></li>',\n                '<li><a href=\"#page/<% print( show_page - 1 ) %>\"><% print( show_page - 1 ) %></a></li>',\n                \"<% } %>\",\n                \"<% } else { %>\", // we are on the first page\n                '<li class=\"disabled\"><a href=\"#page/1\"><span class=\"fa fa-angle-double-left\"></span></a></li>',\n                '<li class=\"disabled\"><a href=\"#page/<% print( show_page ) %>\"><% print( show_page - 1 ) %></a></li>',\n                \"<% } %>\",\n                '<li class=\"active\">',\n                '<a href=\"#page/<% print( show_page ) %>\"><% print( show_page ) %></a>',\n                \"</li>\",\n                \"<% if ( ( show_page ) < page_count ) { %>\",\n                '<li><a href=\"#page/<% print( show_page + 1 ) %>\"><% print( show_page + 1 ) %></a></li>',\n                '<li><a href=\"#page/<% print( page_count ) %>\"><span class=\"fa fa-angle-double-right\"></span></a></li>',\n                \"<% } else { %>\",\n                '<li class=\"disabled\"><a href=\"#page/<% print( show_page  ) %>\"><% print( show_page + 1 ) %></a></li>',\n                '<li class=\"disabled\"><a href=\"#page/<% print( page_count ) %>\"><span class=\"fa fa-angle-double-right\"></span></a></li>',\n                \"<% } %>\",\n                \"</ul>\",\n                \"<span>\",\n                ' <%- libraries_shown %> libraries shown <a href=\"\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"currently <%- library_page_size %> per page\" class=\"page_size_prompt\">(change)</a>',\n                \"</span>\",\n                \"<span>\",\n                \" <%- total_libraries_count %> total\",\n                \"</span>\"\n            ].join(\"\")\n        );\n    },\n\n    templateNewLibraryInModal: function() {\n        return _.template(\n            [\n                '<div id=\"new_library_modal\">',\n                \"<form>\",\n                '<input type=\"text\" name=\"Name\" value=\"\" placeholder=\"Name\" autofocus>',\n                '<input type=\"text\" name=\"Description\" value=\"\" placeholder=\"Description\">',\n                '<input type=\"text\" name=\"Synopsis\" value=\"\" placeholder=\"Synopsis\">',\n                \"</form>\",\n                \"</div>\"\n            ].join(\"\")\n        );\n    }\n});\n\nexport default {\n    LibraryToolbarView: LibraryToolbarView\n};\n"]}